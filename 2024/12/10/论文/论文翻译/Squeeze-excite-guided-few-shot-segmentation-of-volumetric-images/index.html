<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>‘Squeeze &amp; excite’ guided few-shot segmentation of volumetric images | qjl988</title><meta name="author" content="qjl988"><meta name="copyright" content="qjl988"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="‘Squeeze &amp; excite’ guided few-shot segmentation of volumetric images  文章链接   摘要 深度神经网络能够实现高度精确的图像分割，但需要大量的人工注释数据进行监督训练。小样本学习的目的是通过从小样本有注释的支持实例中学习一个新的类别来解决这个缺点。我们介绍了一个新颖的小样本框架，用于分割只有几个注释的切片的体积医学图像">
<meta property="og:type" content="article">
<meta property="og:title" content="‘Squeeze &amp; excite’ guided few-shot segmentation of volumetric images">
<meta property="og:url" content="https://qjl988.github.io/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/Squeeze-excite-guided-few-shot-segmentation-of-volumetric-images/index.html">
<meta property="og:site_name" content="qjl988">
<meta property="og:description" content="‘Squeeze &amp; excite’ guided few-shot segmentation of volumetric images  文章链接   摘要 深度神经网络能够实现高度精确的图像分割，但需要大量的人工注释数据进行监督训练。小样本学习的目的是通过从小样本有注释的支持实例中学习一个新的类别来解决这个缺点。我们介绍了一个新颖的小样本框架，用于分割只有几个注释的切片的体积医学图像">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://qjl988.github.io/img/butterfly-icon.png">
<meta property="article:published_time" content="2024-12-10T15:28:34.000Z">
<meta property="article:modified_time" content="2024-12-10T17:03:37.608Z">
<meta property="article:author" content="qjl988">
<meta property="article:tag" content="论文翻译">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://qjl988.github.io/img/butterfly-icon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://qjl988.github.io/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/Squeeze-excite-guided-few-shot-segmentation-of-volumetric-images/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '‘Squeeze & excite’ guided few-shot segmentation of volumetric images',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-original="/img/butterfly-icon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">qjl988</span></a><a class="nav-page-title" href="/"><span class="site-name">‘Squeeze &amp; excite’ guided few-shot segmentation of volumetric images</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">‘Squeeze &amp; excite’ guided few-shot segmentation of volumetric images</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-10T15:28:34.000Z" title="发表于 2024-12-10 23:28:34">2024-12-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-10T17:03:37.608Z" title="更新于 2024-12-11 01:03:37">2024-12-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%BA%E6%96%87/">论文</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">14.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>44分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="squeeze-excite-guided-few-shot-segmentation-of-volumetric-images"><a class="markdownIt-Anchor" href="#squeeze-excite-guided-few-shot-segmentation-of-volumetric-images"></a> ‘Squeeze &amp; excite’ guided few-shot segmentation of volumetric images</h1>
<blockquote>
<p><a href="zotero://open-pdf/library/items/F3FET4A6">文章链接</a></p>
</blockquote>
<h2 id="摘要"><a class="markdownIt-Anchor" href="#摘要"></a> <a href="zotero://open-pdf/library/items/F3FET4A6?page=1">摘要</a></h2>
<p>深度神经网络能够实现高度精确的图像分割，但需要大量的人工注释数据进行监督训练。小样本学习的目的是通过从小样本有注释的支持实例中学习一个新的类别来解决这个缺点。我们介绍了一个新颖的小样本框架，用于分割只有几个注释的切片的体积医学图像。与计算机视觉领域的其他相关工作相比，<strong>主要的挑战是缺乏预训练的网络和医学扫描的体积性质。<strong>我们通过提出一个新的架构来解决这些挑战，该架构用于小样本的分割，其中包括 &quot;挤压和激发 &quot;块。我们的双臂结构包括一个调节器臂，它处理注释的支持输入并产生一个特定的任务表示。这个表征被传递给分割器臂，它使用这些信息来分割新的查询图像。为了促进调节器和分割器臂之间的有效互动，我们建议使用 &quot;通道挤压和空间激励 &quot;模块–轻量级的计算模块–使两个臂之间的互动更加频繁，而模型复杂性的增加可以忽略不计。这一贡献使我们能够在</strong>不依赖预训练模型的情况下进行图像分割</strong>，而预训练模型通常在医学扫描中是不可用的。此外，我们提出了一种高效的体积分割策略，即把支持体积的几个片子与查询体积的所有片子进行最佳配对。我们在内脏数据集的全身对比度增强的CT扫描上进行了器官分割的实验。我们提出的模型在分割精度方面优于多个基线和现有的方法，有很大的优势。</p>
<h2 id="1-introduction"><a class="markdownIt-Anchor" href="#1-introduction"></a> <a href="zotero://open-pdf/library/items/F3FET4A6?page=1">1. introduction</a></h2>
<p>完全卷积神经网络（F-CNN）在自然图像和医学图像的语义图像分割中都取得了最先进的性能。尽管它们在图像分割方面取得了巨大的成功，但当只有小样本标记的图像可用时，它们的作用有限。一般来说，F-CNN是高度复杂的模型，有数百万个可训练的权重参数，需要数以千计的密集注释的图像进行训练才能有效。一个更好的策略可能是调整一个已经训练好的F-CNN模型，以便从小样本标记的图像中分割出一个新的语义类别。这种策略在计算机视觉应用中往往效果很好，在这种应用中，预先训练好的模型被用来提供一个良好的初始化，随后用新的数据进行微调，使其适应新的语义类别。然而，在不存在过度拟合风险的情况下对现有的预训练网络进行微调，仍然需要相当数量的注释图像（至少在数百张的数量级）。当处理极低的数据制度时，即只有新类别的单一或小样本注释图像可用时，这种基于微调的迁移学习往往会失败，并可能导致过度拟合。</p>
<p>小样本学习是一种机器学习技术，旨在解决这样的情况：现有的模型需要用小样本的例子快速地归纳到一个未知的语义类别（Fei-Fei等人，2006；Miller等人，2000；Fei-Fei，2006）。小样本学习的基本概念是由人类的学习过程所激发的，在这个过程中，利用从过去的经验中获得的强大的先验知识，用很少的观察来快速学习新的语义。虽然用于图像分类和物体检测的小样本学习是一个很好的研究课题，但用神经网络进行语义图像分割的小样本学习最近才被提出（Shaban等人，2017；Rakelly等人，2018）。在这样一个极低的数据体系中进行密集的像素级高维预测是一个巨大的挑战。但同时，小样本学习可以对医学图像分析产生很大的影响，因为它解决了从几乎没有注释的数据中学习的问题，而这是由于依赖医学专家进行人工标注的常态。在这篇文章中，我们提出了一个专门为分割体积医学扫描而设计的小样本分割框架。实现这一目标的关键是将最近提出的 &quot;挤压和激发 &quot;区块整合到我们新颖的小样本架构的设计中（Roy等人，2018b）。</p>
<h3 id="11-background-on-few-shot-segmentation"><a class="markdownIt-Anchor" href="#11-background-on-few-shot-segmentation"></a> <a href="zotero://open-pdf/library/items/F3FET4A6?page=2">1.1. Background on few-shot segmentation</a></h3>
<p>小样本学习算法试图通过利用以前从不同的标记训练数据中获得的知识，将一个模型推广到一个新的、以前未见过的类别。图1说明了整体设置，我们想在新的扫描中对肝脏进行分割，因为只有一个切片中的肝脏注释。一个小样本的分割网络架构（Shaban等人，2017；Rakelly等人，2018）通常由三部分组成：（i）一个调节器臂，（ii）一组交互块，和（iii）一个分割臂。在推理过程中，模型被提供一个支持集（Is，Ls(α)），由一个图像Is组成，新的语义类（或器官）α被概述为二进制掩码表示为Ls(α)。此外，还提供了一个查询图像Iq，其中要对新的语义类别进行分割。调理器接收支持集并执行前向传递。这在调节器臂的所有中间层中产生了支持集的多个特征图。这组特征图被称为任务表示，因为它们编码了分割新语义类别所需的信息。任务表示由交互块承担，其作用是将相关信息传递给分割臂。分割臂将查询图像作为输入，利用交互块提供的任务信息，为查询输入Iq生成一个分割掩码Mq。因此，交互块将信息从调理器传递给分割器，并形成了小样本语义图像分割的主干。现有的方法在网络的瓶颈或最后一层使用单一连接的弱交互（Shaban等人，2017；Rakelly等人，2018）。</p>
<h3 id="12-challenges-for-medical-few-shot-segmentation"><a class="markdownIt-Anchor" href="#12-challenges-for-medical-few-shot-segmentation"></a> <a href="zotero://open-pdf/library/items/F3FET4A6?page=2">1.2. Challenges for medical few-shot segmentation</a></h3>
<p>计算机视觉中关于小样本分割的现有工作处理二维RGB图像，并为分割器和调节臂使用预训练模型来帮助训练（Shaban等人，2017；Rakelly等人，2018）。预先训练的模型在训练开始时就提供了一个强大的先验知识，具有更强大的功能。因此，调节器和分割器之间的弱互动足以有效地训练模型。由于缺乏预训练的模型，直接扩展到医学图像是具有挑战性的。相反，调节器和分割器都需要从头开始训练。然而，在没有预先训练好的模型的情况下，用弱的交互作用来训练网络很容易出现不稳定和模式崩溃。</p>
<p>我们建议在两个臂之间的多个位置进行强互动，而不是弱互动。强相互作用有利于有效的梯度流动在两个臂上，这就简化了两个臂的训练，不需要任何预先训练的模型。<strong>为了实现互动，我们提出了最近引入的 “通道挤压和空间激励”（sSE）模块（Roy等人，2018a; 2018b）</strong>。<strong>在我们以前的工作中，我们使用sSE块对特征图进行自适应的自我重新校准，以帮助单一分割网络的分割。在这里，我们使用sSE块在小样本分割网络的2个臂之间进行通信。该块将学到的条件特征图作为输入，并执行 &quot;通道挤压 &quot;以学习空间图。这被用来对分割器特征图进行 “空间激发”。我们在所有的编码器、瓶颈和解码器模块之间使用sSE模块。SE块很适合于实现手臂之间的互动，因为它们是轻量级的，因此只略微增加了模型的复杂性。尽管它是轻量级的，但它们可以通过重新校准对分割器的特征产生强烈的影响。</strong></p>
<p>现有的小样本分割工作集中在二维图像上，而我们要处理的是容积式医疗扫描。在三维图像的所有切片上手动注释器官是很耗时的。遵循小样本学习的理念，注释应该发生在几个稀疏选择的片子上。为此，我们提出了一种体积分割策略，将支持体积的几个注释片与查询体积的所有片子适当配对，保持分割的片间一致性。</p>
<h3 id="13-contributions"><a class="markdownIt-Anchor" href="#13-contributions"></a> <a href="zotero://open-pdf/library/items/F3FET4A6?page=3">1.3. Contributions</a></h3>
<p>In this work, we propose:</p>
<ol>
<li>一种新型的体积医学扫描的小样本分割框架。</li>
<li>在调节器和分割器臂之间的多个位置有强烈的相互作用，而不是在最后一层只有一个相互作用。</li>
<li>挤压和激励 &quot;模块用于实现互动。</li>
<li>从无到有的稳定训练，不需要预先训练的模型。</li>
<li>一种体积分割策略，对查询卷和支持卷的切片进行最佳配对。</li>
</ol>
<h3 id="14-overview"><a class="markdownIt-Anchor" href="#14-overview"></a> <a href="zotero://open-pdf/library/items/F3FET4A6?page=3">1.4. Overview</a></h3>
<p>我们在第2节中讨论了相关的工作，在第3节中介绍了我们的小样本分割算法，在第4节中介绍了实验设置，在第5节中介绍了实验结果和讨论。最后，我们在第6节中对我们的贡献进行了总结。</p>
<h2 id="2-prior-work"><a class="markdownIt-Anchor" href="#2-prior-work"></a> <a href="zotero://open-pdf/library/items/F3FET4A6?page=3">2. Prior work</a></h2>
<h3 id="21-few-shot-learning"><a class="markdownIt-Anchor" href="#21-few-shot-learning"></a> 2.1. Few-shot learning</h3>
<p>小样本学习的方法可以大致分为三组。</p>
<p>第一组方法是使基础分类器适应新的类别（Bart和Ullman，2005；Fei-Fei等人，2006；Hariharan和Girshick，2017）。这些方法往往容易过度拟合，因为它们试图在小样本新样本上拟合一个复杂的模型。</p>
<p><strong>第二组的方法旨在预测接近基础分类器的分类器，以防止过度拟合。其基本思想是使用双分支网络，其中第一分支预测一组动态参数，由第二分支用来产生预测（Bertinetto等人，2016；Wang和Hebert，2016）。</strong></p>
<p>第三组包含使用度量学习的算法。他们试图将数据映射到一个嵌入空间，其中不相似的样本被映射得很远，相似的样本被映射得很近，形成聚类。为此，标准方法依赖于连体结构（Koch等人，2015；Vinyals等人，2016）。</p>
<h3 id="22-few-shot-segmentation-using-deep-learning"><a class="markdownIt-Anchor" href="#22-few-shot-segmentation-using-deep-learning"></a> 2.2. Few-shot segmentation using deep learning</h3>
<p>用深度神经网络进行小样本分割的工作最近才被探索出来。在最早的一项工作中，Caelles等人（2017）利用有限的数据对预训练模型进行微调的想法。鉴于第一帧的注释，作者进行了视频分割。虽然他们的模型在这个应用中表现充分，但这种方法容易过拟合，适应一个新的类别需要重新训练，这阻碍了适应的速度。Shaban等人（2017）使用了一个双臂架构，第一臂看新的样本和它的标签，为第二臂回归分类权重，第二臂接收查询图像并生成其分割。Dong和Xing（2018）扩展了这项工作，以同时处理多个未知类别，进行多类分割。Rakelly等人（2018）把它带到了一个极其困难的情况，即支持集的监督只提供给前景和背景的几个选定的地标，而不是一个密集注释的二进制掩码。在PASCAL VOC计算机视觉基准上评估了现有的小样本分割方法（Shaban等人，2017；Rakelly等人，2018）。他们报告了较低的分割分数（平均相交大于联合约40%），证实了小样本的分割是一项非常具有挑战性的任务。</p>
<p>上述所有的论文都依赖于预训练的模型来开始训练过程。尽管对于计算机视觉应用来说，获得预训练的模型相对容易，但对于医学成像应用来说，没有预训练的模型可用。此外，它们使用的是二维RGB图像，而我们处理的是三维体积医学扫描。这更具挑战性，因为没有既定的策略来选择和配对支持切片与查询体积。这可能会导致查询切片与支持切片有很大的不同，甚至可能根本不包含目标类别的情况。</p>
<p>在医学图像分割领域，最近Zhao等人（2019）等人使用了一个学习到的变换来高度增强一个单一的注释体积进行一次分割。这与我们的方法有两点不同：</p>
<p>（i）他们使用单一的完全注释的体积，而我们只使用几个切片的注释；</p>
<p>（ii）他们使用学习到的表示来高度增强单一注释的体积进行分割，而我们使用单独的数据集，为其他类提供注释。</p>
<p>我们遵循Shaban等人（2017）在计算机视觉PASCAL VOC基准中定义的实验设置。</p>
<h2 id="3-method"><a class="markdownIt-Anchor" href="#3-method"></a> <a href="zotero://open-pdf/library/items/F3FET4A6?page=3">3. Method</a></h2>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/img/202210252033062.png" alt="" /></p>
<blockquote>
<p>图1.小样本分割框架的概述。支持集由图像切片<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">I_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和新语义类<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_s(\alpha)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span></span>的相应注释组成（这里α是类肝）。我们通过调节器臂传递支持集，其信息通过交互块传达给分割器臂。分割器臂使用这些信息，为生成标签图<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>q</mi></msub><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M_q(\alpha)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span></span>的类别分割查询输入图像<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>q</mi></msub></mrow><annotation encoding="application/x-tex">I_q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>。除了支持集之外，小样本分割器以前从未见过肝脏的注释。</p>
</blockquote>
<p>在本节中，我们首先介绍了问题的设置，然后详细介绍了我们的网络结构和训练策略，最后描述了分割体积扫描的评估策略。</p>
<h3 id="31-problem-setup-for-few-shot-segmentation"><a class="markdownIt-Anchor" href="#31-problem-setup-for-few-shot-segmentation"></a> 3.1. Problem setup for few-shot segmentation</h3>
<p>小样本分割的训练数据<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>=</mo><msubsup><mrow><mo stretchy="false">(</mo><msubsup><mi>I</mi><mi>T</mi><mi>i</mi></msubsup><mo separator="true">,</mo><msubsup><mi>L</mi><mi>T</mi><mi>i</mi></msubsup><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup></mrow><annotation encoding="application/x-tex">D_{Train} = {(I^{i}_{T}, L^{i}_{T}(α))}^{N}_{i=1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.380926em;vertical-align:-0.32503099999999996em;"></span><span class="mord"><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.424669em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.275331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.424669em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.275331em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mclose">)</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.055895em;"><span style="top:-2.374969em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.277564em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32503099999999996em;"><span></span></span></span></span></span></span></span></span></span>包括<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>对输入图像<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">I_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和其对应的关于语义类（或器官）<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">α</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>的二元标签图<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>T</mi></msub><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_T(α)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span></span>。所有存在于标签图<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>L</mi><mi>T</mi><mi>i</mi></msubsup><mo>∈</mo><msub><mi>D</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L^i_T∈D_{Train}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0999949999999998em;vertical-align:-0.275331em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.424669em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.275331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>中的语义类<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">α</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>都属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>=</mo><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>k</mi></mrow></mrow><annotation encoding="application/x-tex">L_{Train}={1, 2, \dots,k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span>，也就是说，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>∈</mo><msub><mi>L</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">α∈L_{Train}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。这里<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>表示训练集中注释的类（器官）的数量。我们的目标是从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D_{Train}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>中学习一个模型<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi mathvariant="normal">.</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(.)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord">.</span><span class="mclose">)</span></span></span></span>，这样，给定一个支持集<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>（</mtext><msub><mi>I</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>L</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mover accent="true"><mi>α</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mo>∈</mo><msub><mi>D</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">（I_s, L_s( \hat{\alpha})) /∈D_{Train}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback">（</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mord">/</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的新语义类<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>α</mi><mo>^</mo></mover><mo>∈</mo><msub><mi>L</mi><mrow><mi>T</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\hat{α}∈L_{Test}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和查询图像<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>q</mi></msub></mrow><annotation encoding="application/x-tex">I_q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>，可以推断出查询的二元分割<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>q</mi></msub><mo stretchy="false">(</mo><mover accent="true"><mi>α</mi><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M_q(\hat{α})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。图1说明了CT扫描中测试类<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>α</mi><mo>^</mo></mover><mo>=</mo></mrow><annotation encoding="application/x-tex">\hat{α}=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>肝脏的设置。训练和测试的语义类别是互斥的，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>∩</mo><msub><mi>L</mi><mrow><mi>T</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub><mo>=</mo><mtext>∅</mtext></mrow><annotation encoding="application/x-tex">L_{Train} ∩L_{Test} = ∅</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">∅</span></span></span></span>。</p>
<p>小样本分割与小样本分类或物体检测的一个根本区别是，测试类<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>T</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{Test}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>可能已经作为背景类出现在训练数据中。例如，网络已经在许多冠状CT切片上看到肝脏作为背景类的一部分，尽管肝脏不是训练类的一部分。这有可能形成先验知识，在测试过程中可以加以利用，而此时只提供了几个带肝脏注释的例子。</p>
<h3 id="32-architectural-design"><a class="markdownIt-Anchor" href="#32-architectural-design"></a> 3.2. Architectural design</h3>
<p>如前所述，我们的网络架构由三个构件组成：<strong>（i）一个调节器臂，（ii）与sSE模块的交互块，以及（iii）一个分割器臂</strong>。调节器臂处理支持集，以模拟一个新的语义类别（器官）在图像中的样子。它通过交互块将信息有效地传达给分割器臂。分割器臂通过利用交互块提供的信息在新的查询图像中分割新的语义类别。图2和图3进一步详细说明了该架构，下文也将对此进行描述。</p>
<p>在我们的框架中，我们选择分割器和调节器采用对称布局，即两者都有四个编码器和解码器块，由一个瓶颈块分开。对称的布局有助于在匹配块之间产生强烈的互动，因为特征图具有相同的空间分辨率。在现有的方法中，调节器和分割器只通过最后一层互动，在生成分割图之前（Shaban等人，2017；Rakelly等人，2018）。这种在单一位置的弱互动对他们的应用来说是足够的，因为他们能够使用一个预先训练好的模型，该模型已经提供了相当好的特征。由于我们没有预训练的网络，我们建议通过在多个位置纳入sSE块来建立一个强互动。这种互动有利于从头开始训练模型。</p>
<h4 id="321-调节器臂"><a class="markdownIt-Anchor" href="#321-调节器臂"></a> 3.2.1. 调节器臂</h4>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/img/202210311458024.png" alt="" /></p>
<blockquote>
<p>图2：小样本分割器的结构说明。在左边，我们展示了一个方框图，用箭头说明了基于编码器-解码器的调节器臂（底部）和分割器臂（顶部）。它们之间的相互作用由SE块显示，详见图3。在右边，提供了编码器块、解码器块、瓶颈块和分类器块的操作细节。</p>
</blockquote>
<p>调节器的任务是通过融合支持图像Is的视觉信息和注释Ls来处理支持集，并生成特定任务的特征图，能够捕捉到查询图像Iq中应该被分割的内容。我们将调理器的中间特征图称为任务表示。我们通过堆叠Is和二元图Ls(α)向调节器臂提供一个2通道的输入。这与Shaban等人（2017）不同，他们将Is和Ls（α）相乘来产生输入。他们的动机是抑制背景像素，以便调节器可以集中在物体内的模式（如猫类中的眼睛或鼻子模式）。由于器官类中的纹理模式有限，这在我们的扫描中并不成立。例如，肝脏内的体素强度是相当均匀的，边缘有限。因此，我们将支持集的两部分都送入网络，让它学习最佳融合，为查询图像提供最佳的分割。</p>
<p>调节器臂有一个基于编码器-解码器的结构，由四个编码器块和四个解码器块组成，由一个瓶颈层分隔，见图2。编码器和解码器区块都由一个通用区块构成，该区块的卷积层核大小为5×5，跨度为1，有16个输出特征图，然后是一个参数化的ReLU激活函数（He等人，2015）和一个批量归一化层。在编码器区块中，通用区块之后是一个2×2、步长为2的最大集合层，它将空间维度减少一半。在解码器块中，通用块之前有一个非池化层（Noh等人，2015）。在最大池操作过程中的池化指数被存储起来，并用于解码器块的相应解池阶段，用于对特征图进行上采样。解池操作不仅是无参数的，从而降低了模型的复杂性，而且还有助于保持细粒度分割的空间一致性。此外，必须指出的是，与标准的U-net架构不同，编码器和解码器块之间没有使用跳过连接（Ronneberger等人，2015）。这一重要设计选择的原因将在第5.2节讨论。</p>
<h4 id="322-使用-挤压和激励-模块的互动块"><a class="markdownIt-Anchor" href="#322-使用-挤压和激励-模块的互动块"></a> 3.2.2. 使用 &quot;挤压和激励 &quot;模块的互动块</h4>
<p>交互区块在小样本的分割框架中起着关键作用。这些块将条件器的任务表示作为输入，并将它们传达给分割器，以引导对查询图像的分割。理想情况下，这些块应该 (i)轻量级的，只略微增加模型的复杂性和计算时间；(ii)通过改善梯度流来简化网络的训练。</p>
<p>为此，我们使用最近推出的 “挤压和激励”（SE）模块。SE模块是实现任何CNN内特征图的自适应再校准的计算单元<a href="zotero://open-pdf/library/items/EUM8RJTP">Hu等人，2018</a>。SE模块可以提高CNN的性能，同时只稍微增加模型的复杂性。对于分类<a href="zotero://open-pdf/library/items/EUM8RJTP">Hu等人，2018</a>，特征图在空间上被挤压，以学习通道描述符，用于激发（或重新校准）特征图，强调某些重要通道。我们把它称为空间挤压和通道激发块（cSE）。在我们最近的工作中，我们将这一想法扩展到分割，通过通道挤压和空间激励（sSE）进行重新校准，强调相关的空间位置<a href="zotero://open-pdf/library/items/7YXV46TT">Roy等人，2018b; 2018a</a>。在这两种情况下，SE块都用于自我重新校准，即同一特征图被用作挤压和激发操作的输入。然而，在这里，我们建议将SE块用于调节器和分割器之间的互动。调节器的特征图被作为挤压操作的输入，其输出被用来激发分割特征图，详见下文。</p>
<p>通道挤压和空间激发（sSE） sSE块沿通道挤压调节器特征图<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><mo>∈</mo><msup><mi>R</mi><mrow><mi>H</mi><mo>×</mo><mi>W</mi><mo>×</mo><mi>C</mi><mtext>′</mtext></mrow></msup></mrow><annotation encoding="application/x-tex">U_{con}∈R^{H×W×C′}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，并在空间上激发相应的分割器特征图<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mrow><mi>s</mi><mi>e</mi><mi>g</mi></mrow></msub><mo>∈</mo><msup><mi>R</mi><mrow><mi>H</mi><mo>×</mo><mi>W</mi><mo>×</mo><mi>C</mi></mrow></msup></mrow><annotation encoding="application/x-tex">U_{seg}∈R^{H×W×C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span></span></span></span>，传达支持集的信息，以帮助查询图像的分割。H，W是特征图的高度和宽度，C′和C分别是支持器和分割器特征图的通道数。这里，我们考虑用一种特殊的切片策略来表示输入张量$U_{con} = [u^{1,1}<em>{con}, u^{1,2}</em>{con},\dots, u<sup>{j,i}_{con},\dots,u</sup>{H,W}<em>{con} ] <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>，其中</mtext></mrow><annotation encoding="application/x-tex">，其中</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">其</span><span class="mord cjk_fallback">中</span></span></span></span>u<sup>{j,i}_{con}∈R</sup>{1×1×C′}<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>，</mtext></mrow><annotation encoding="application/x-tex">，</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">，</span></span></span></span>j∈{1, 2, . . . , H}<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>和</mtext></mrow><annotation encoding="application/x-tex">和</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">和</span></span></span></span>i∈{1, 2, . . , W }<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">.</mi><mtext>同样，对于分割器特征图</mtext></mrow><annotation encoding="application/x-tex">. 同样，对于分割器特征图</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord cjk_fallback">同</span><span class="mord cjk_fallback">样</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">对</span><span class="mord cjk_fallback">于</span><span class="mord cjk_fallback">分</span><span class="mord cjk_fallback">割</span><span class="mord cjk_fallback">器</span><span class="mord cjk_fallback">特</span><span class="mord cjk_fallback">征</span><span class="mord cjk_fallback">图</span></span></span></span>U</em>{seg} = [u^{1,1}<em>{seg}, u^{1,2}</em>{seg},\dots, u<sup>{j,i}_{seg},\dots,u</sup>{H,W}_{seg} ]$ 。空间挤压操作是使用卷积<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><msub><mi>W</mi><mrow><mi>s</mi><mi>q</mi></mrow></msub><mo>∗</mo><msub><mi>U</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">q = W_{sq}*U_{con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mrow><mi>s</mi><mi>q</mi></mrow></msub><mo>∈</mo><msup><mi>R</mi><mrow><mn>1</mn><mo>×</mo><mn>1</mn><mo>×</mo><mi>C</mi><mtext>′</mtext></mrow></msup></mrow><annotation encoding="application/x-tex">W_{sq}∈R^{1×1×C′}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，产生一个投影张量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>∈</mo><msup><mi>R</mi><mrow><mi>H</mi><mo>×</mo><mi>W</mi></mrow></msup></mrow><annotation encoding="application/x-tex">q∈R^{H×W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span></span></span></span></span></span></span></span>。这个投影q通过一个sigmoid门控层σ ( - )，将激活的比例重新调整到[0, 1]，用来重新校准或激发<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mrow><mi>s</mi><mi>e</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">U_{seg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>的空间，以产生</p>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/img/202210251844587.png" alt="" /></p>
<p>该模块的结构细节见图3。</p>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/img/202210311500621.png" alt="" /></p>
<blockquote>
<p>图3：通道挤压和空间激励&quot;（sSE）模块的结构图，该模块被用作小样本分割器的交互块。该模块将条件特征图Ucon和分割器特征图Useg作为输入。对Ucon进行 “通道挤压”，生成空间图σ（q），用于Useg的 “空间激发”，从而促进互动。</p>
</blockquote>
<h4 id="323-segmenter-arm"><a class="markdownIt-Anchor" href="#323-segmenter-arm"></a> 3.2.3. Segmenter arm</h4>
<p>分割器臂的目标是利用调节器传递的信息，将给定的查询图像Iq与一个新的、未知的类别α进行分割，调节器捕捉到了关于以前未见过的类别α的高级信息。 交互块中的sSE模块压缩了调节器的任务表示，并通过空间激励自适应地重新校准分割器的特征图。</p>
<p>分割器的编码器-解码器结构与调节器相似，但有一些区别。首先，分割器中编码器和解码器块的卷积层有64个输出特征图，而调节器中只有16个。这为分割器部分提供了比调节器部分更高的模型复杂性。我们将在第5.3节中论证这一选择。其次，与调节器臂不同，分割器臂提供了一个分割图作为输出，见图2。因此，增加了一个分类器块，包括一个1×1的卷积层，有两个输出特征图（前景、背景），然后是一个用于推断分割的软最大函数。第三，在分割器中，在每个编码器、解码器和瓶颈块之后，交互块重新校准特征图，而在调节器臂中则没有这种情况。</p>
<h3 id="33-training-strategy"><a class="markdownIt-Anchor" href="#33-training-strategy"></a> 3.3. Training strategy</h3>
<p>我们使用与Shaban等人（2017）类似的训练策略。我们用训练数据集<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D_{Train}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>模拟一次性分割任务，如下所述。它包括两个阶段（i）使用批量采样器选择一个迷你批次；（ii）使用选定的迷你批次训练网络。</p>
<p>批量取样器为了模拟训练过程中的一次性分割任务，我们需要一个特定的策略来选择小批量的样本，这与传统的监督训练不同。对于每个迭代，我们按照下面的步骤来生成批量样本。</p>
<ol>
<li>我们首先随机抽取一个标签<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>∈</mo><msub><mi>L</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">α∈L_{Train}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li>接下来，我们从训练数据<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D_{Train}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>中随机选择2个图像片及其相应的标签图，其中包含语义标签<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">α</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>。</li>
<li>标签图被二进制化，代表语义类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">α</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>为前景，其余为背景。</li>
<li>一对构成支持集<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>I</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>L</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(I_s, L_s(α))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>，另一对构成查询集<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>I</mi><mi>q</mi></msub><mo separator="true">,</mo><msub><mi>L</mi><mi>q</mi></msub><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(I_q, L_q(α))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>q</mi></msub><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_q(α)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span></span>作为计算损失的基础真实分割。</li>
</ol>
<p><strong>训练网络接收支持对（Is, Ls(α)）和查询对（Iq, Lq(α)）作为训练的批次</strong>。<strong>支持对（Is, Ls(α)）被串联起来，作为双通道输入提供给调节器臂</strong>。查询图像Iq作为输入被提供给分割臂。有了这两个臂的输入，一个前馈通道被执行以预测标签α的查询图像Iq的分割Mq(α)。我们使用Dice损失（Milletari等人，2016）作为成本函数，它在预测Mq(α)和地面实况Lq(α)之间计算为</p>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/img/202210251847771.png" alt="" /></p>
<p>其中x对应的是预测图的像素。网络的可学习权重参数使用随机梯度下降法（SGD）进行优化，使LDice最小。在每个迭代中，批量采样器提供对应于不同α的不同样本，计算该特定α的损失并相应地更新权重。随着目标类别α在每次迭代中不断变化，网络就会收敛。因此，在收敛之后，我们可以说预测变得与所选的α无关。也就是说，对于一个新的α，网络应该能够进行分割，这也是我们在推理一次性分割框架时所期望的。</p>
<h3 id="34-volumetric-segmentation-strategy"><a class="markdownIt-Anchor" href="#34-volumetric-segmentation-strategy"></a> 3.4. Volumetric segmentation strategy</h3>
<p>如上一节所述，网络是用二维图像作为支持集和查询来训练的。但是，在测试阶段，需要对三维查询体进行分割。因此，从支持体积中，我们需要选择一个稀疏的注释切片集，形成支持集。对查询体进行分割的直接扩展是具有挑战性的，因为没有既定的策略将上述选定的支持片与查询体的所有片子配对，这将产生最佳的分割。在本节中，我们提出了一个解决这个问题的策略。</p>
<p>假设我们有预算在支持卷中只注释k个片断，查询卷按照程序进行分割:</p>
<ol>
<li>
<p>给定一个语义类，我们首先指出器官所在的支持量和查询量的切片范围（沿着一个固定的方向）。让我们假设支持体的范围是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msup><mi>S</mi><mi>s</mi></msup><mo separator="true">,</mo><msup><mi>S</mi><mi>e</mi></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[S^s, S^e]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>，查询体的范围是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msup><mi>Q</mi><mi>s</mi></msup><mo separator="true">,</mo><msup><mi>Q</mi><mi>e</mi></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[Q^s, Q^e]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>。这里的上标表示开始<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span>和结束<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">e</span></span></span></span>的切片索引。</p>
</li>
<li>
<p>基于预算k，两个范围<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msup><mi>S</mi><mi>s</mi></msup><mo separator="true">,</mo><msup><mi>S</mi><mi>e</mi></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[S^s, S^e]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msup><mi>Q</mi><mi>s</mi></msup><mo separator="true">,</mo><msup><mi>Q</mi><mi>e</mi></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[Q^s, Q^e]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>都被划分为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>个等距的片组。让我们分别用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msubsup><mi>S</mi><mn>1</mn><mi>i</mi></msubsup><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msubsup><mi>S</mi><mi>k</mi><mi>i</mi></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[{S^{i}_{1}},\dots,{S^{i}_{k}}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1077719999999998em;vertical-align:-0.2831079999999999em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.4518920000000004em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.4168920000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831079999999999em;"><span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msubsup><mi>Q</mi><mn>1</mn><mi>i</mi></msubsup><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msubsup><mi>Q</mi><mi>k</mi><mi>i</mi></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[{Q^{i}_{1}},\dots,{Q^{i}_{k}}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1077719999999998em;vertical-align:-0.2831079999999999em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.4168920000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831079999999999em;"><span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>来表示这些组。这里的下标表示组号。</p>
</li>
<li>
<p>在每一个k个支持体积组中，中心片<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msubsup><mi>S</mi><mn>1</mn><mi>c</mi></msubsup><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msubsup><mi>S</mi><mi>k</mi><mi>c</mi></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[{S^{c}_{1}},\dots,{S^{c}_{k}}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.033108em;vertical-align:-0.2831079999999999em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4168920000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831079999999999em;"><span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>被注释为支持集。</p>
</li>
<li>
<p>我们将注释过的中心片<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mi>c</mi><mi>j</mi></msubsup></mrow><annotation encoding="application/x-tex">S_{c}^{j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.071664em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.4530000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>与所有i∈{1, … …, k}的组{Qi j}的所有片子配对。, k}. 这就形成了分割器和调节器的输入，以生成最终的体积分割。</p>
</li>
</ol>
<p>图4说明了体积评估的整体过程。在我们的实验中，我们观察到，如果支持切片和查询切片相似，那么分割性能就比它们非常不相似的情况要好。因此，如果扫描的整体对比度（即强度值或相互信息）相似，是有好处的。这可以直观地理解为支持切片的质量对分割器的性能有很大影响。在我们的评估策略中，对于一个固定的预算k，我们确保支持切片和相应的查询切片之间的不相似性是最小的。必须指出的是，在评估策略中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>Q</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>Q</mi><mi>e</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[Q_s, Q_e]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>必须提供查询量。在我们的实验中，我们使用目标器官的标签掩码预先计算了它们。在实践中，这可以通过快速扫描切片手动完成，或者使用一个简单的自动工具，可以为此目的进行训练。</p>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/img/202210311536316.png" alt="" /></p>
<blockquote>
<p>图4：k=3的几张照片的体积分割策略的说明。我们把查询卷和支持卷都分成k组切片。支持体中第i组的注释中心片与查询体中第i组的所有片子配对，以推断其分割。这是对i∈{1，2，3}所做的，并被传递给几张照片的分割器来分割整个卷。</p>
</blockquote>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/typora/image.png" alt="" /></p>
<h2 id="4-dataset-and-experimental-setup"><a class="markdownIt-Anchor" href="#4-dataset-and-experimental-setup"></a> <a href="zotero://open-pdf/library/items/F3FET4A6?page=6">4. Dataset and experimental setup</a></h2>
<h3 id="41-dataset-description"><a class="markdownIt-Anchor" href="#41-dataset-description"></a> 4.1. Dataset description</h3>
<p>我们选择了从对比度增强CT（ceCT）扫描中进行器官分割这一具有挑战性的任务，以评估我们的少许体积分割框架。我们使用内脏数据集（Jimenez-del Toro等人，2016），它由两部分组成（i）银色语料库（有65张扫描）和（ii）金色语料库（20张扫描）。所有的扫描都被重新取样到2毫米3的体素分辨率。</p>
<h3 id="42-problem-formulation"><a class="markdownIt-Anchor" href="#42-problem-formulation"></a> 4.2. Problem formulation</h3>
<p>由于目前还没有针对体积医学图像的小样本分割的基准，我们制定了自己的实验设置来进行评估。我们使用银色语料库扫描进行训练（DTrain）。对于测试，我们使用黄金语料库数据集。一个卷被用来创建支持集（卷ID：10000132_1_CTce_ThAb），14个卷被用来作为验证集，5个卷作为测试集。各卷的ID在手稿的末尾报告。在第5.1-5.4节提出的实验中，我们使用验证集，因为我们使用这些结果来确定架构配置，以及支持片的数量。最后，我们使用这些结果并在第5.5节中与测试集上的现有方法进行比较。</p>
<p>在我们的实验中，我们考虑将以下六个器官作为语义类别：</p>
<ol>
<li>肝脏</li>
<li>脾脏</li>
<li>右肾</li>
<li>左肾</li>
<li>右腰部肌肉</li>
<li>左腰部肌肉</li>
</ol>
<p>我们用4个卷进行实验，这样，每个器官在每个卷中都被视为一个未知的语义类别。表1中报告了每个折叠的训练和测试标签。</p>
<h3 id="43-hyperparameters-for-training-the-network"><a class="markdownIt-Anchor" href="#43-hyperparameters-for-training-the-network"></a> 4.3. Hyperparameters for training the network</h3>
<p>由于缺乏预训练的模型，我们无法使用Shaban等人（2017）的设置进行训练。因此，我们需要定义我们自己的超参数设置，列于表2。请注意，超参数是通过手动尝试不同的组合来估计的，而不是采用超参数优化框架，这可能会导致更好的结果，但同时也很耗时。</p>
<h2 id="5-experimental-results-and-discussion"><a class="markdownIt-Anchor" href="#5-experimental-results-and-discussion"></a> 5. Experimental results and discussion</h2>
<h3 id="51-squeeze-excitation-based-interaction"><a class="markdownIt-Anchor" href="#51-squeeze-excitation-based-interaction"></a> 5.1. ‘Squeeze &amp; excitation’ based interaction</h3>
<p>在本节中，我们研究了SE块的最佳位置以促进交互，并比较了cSE和sSE块的性能。在这里，我们将调节器臂的卷积核数设定为16，分割器臂的卷积核数设定为64。我们使用来自支持体的k=12个支持片。由于本实验的目的是评估SE块的位置和类型，我们保持上述参数固定，但以后再评估。有了放置SE块的四种不同的可能性和两种类型的cSE或sSE，我们总共有8种不同的基线配置。表3中报告了每个基线的配置和它们相应的每个折叠的分割性能。</p>
<p>首先，人们观察到，带有sSE的BL-1、3、5、7有一个体面的性能（超过0.4 Dice分），而BL-2、4、6、8的性能非常差（低于0.1 Dice分）。这表明，在这种小样本分割的应用中，sSE交互模块远远优于cSE模块。我们很难理解网络的动态，无法确定为什么会观察到这种行为。我们的直觉是，使用通道SE块的性能不佳与它使用的全局平均池化层有关，它将空间响应平均到一个标量值。在我们的应用中（或一般的医疗扫描），目标语义类别覆盖了支持切片的一小部分（大约5-10%）。当对所有的像素进行平均时，最终的数值会受到背景激活的高度影响。交互块的作用是将目标类的语义信息从调节器传达给分割器。通过使用通道SE作为全局平均池，类别信息大多丢失，因此不能将相关信息传达给分割器。</p>
<p>表3的第二个结论是，在交互块的所有可能位置中，BL-7，即所有编码器、瓶颈和解码器块之间的sSE块，取得了最高的Dice分数，即0.567。这一结果在所有褶皱中都是一致的。BL7在Fold-1（肝脏）、Fold2（脾脏）、Fold-3（左/右肾脏）和Fold-4（左/右腰肌）的表现优于其余基线，差距在0.1到0.8个Dice点。这可能与每个器官相关的相对难度有关。由于对比度和大小的关系，与脾脏、肾脏和腰肌相比，肝脏是相对容易分割的。另外，与BL-7相比，BL-1、3和5的表现很差。这表明，更多的互动有助于更好的训练。比较BL-1、BL-3和Bl-5，我们发现BL-1的性能更好。这表明编码器的互动比瓶颈或解码器的互动强大得多。但是，由于BL-7的性能比BL-1、BL-3和BL-5高得多，我们认为编码器、瓶颈和解码器的交互作用为分割器提供了互补的信息，使查询的分割更加准确。从这些结果中，我们得出结论，基于sse的交互块是最有效的，我们在随后的实验中使用了所有编码器、瓶颈和解码器块之间基于sse的交互。</p>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/typora/image-20221026124906839.png" alt="image-20221026124906839" /></p>
<blockquote>
<p>表3 在网络的不同位置（编码器、瓶颈和解码器），使用sSE或cSE模块，我们的几枪分割器的性能（每折和平均Dice得分）。左边和右边被缩写为L.和R.腰肌被缩写为P.M.。</p>
</blockquote>
<h3 id="52-effect-of-skip-connections-in-the-architecture"><a class="markdownIt-Anchor" href="#52-effect-of-skip-connections-in-the-architecture"></a> 5.2. Effect of skip connections in the architecture</h3>
<p>由于U-net架构的成功（Ronneberger等人，2015），在F-CNN模型中使用跳过连接已经成为一个非常普遍的设计选择。通过跳过连接，编码器块的输出特征图与具有相同空间分辨率的解码器块的输入连接起来。一般来说，这种连接有助于实现卓越的分割性能，因为它在解码阶段提供了大量的上下文信息，并促进了梯度流动。在我们的实验中，我们凭直觉开始在调节器臂和分割器臂中都有跳过的连接，但在预测的查询分割掩码中观察到了一个意外的行为。通过包括跳过连接，网络大多将支持集的二进制掩码复制到输出中。在训练集和测试集的所有褶皱中都观察到了这一点。我们把这种现象称为复制效应。图5是每个折叠的定性例子，我们看到，尽管支持图像和查询图像的形状不同，但查询图像的预测几乎与支持二进制掩码相同。我们还进行了定量分析，以观察由于这种复制效应对Dice分数的影响。表4报告了有无跳过连接的性能，我们观察到由于添加了跳过连接，Dice分数下降了3%。我们还进行了实验，在调节器和分割器臂中分别加入了跳过连接。我们观察到，仅在调节器臂中加入跳过连接会使性能降低6%的Dice点，而仅在分割器臂中加入跳过连接会使训练变得不稳定。在这次评估中，调节器和分割器的卷积核数量分别固定为16和64，评估是在k=12支持片的情况下进行的。</p>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/typora/image-20221026124739177.png" alt="image-20221026124739177" /></p>
<blockquote>
<p>图5 有跳过连接和无跳过连接的几张照片分割器的定性结果，以证明复制的效果。子图（a-d）分别是指肝脏、脾脏、左肾和右腰肌这些褶皱中的例子。对于每个子图，第一列表示带有器官手动轮廓的支持图像，第二列表示带有手动注释的查询图像，第三列表示带有跳过连接的查询图像的预测结果，第四列表示没有跳过连接的查询图像的预测结果（提议的方法）。所有的注释都显示为绿色。在分析支持注释的掩码和带跳过连接的预测时，可以观察到所有的褶皱都有明显的复制效应。(关于本图例中对颜色的解释，请读者参考本文的网络版）。</p>
</blockquote>
<h3 id="53-model-complexity-of-the-conditioner-arm"><a class="markdownIt-Anchor" href="#53-model-complexity-of-the-conditioner-arm"></a> 5.3. Model complexity of the conditioner arm</h3>
<p>一个重要的设计选择是决定与分割器臂相比，调节器臂的相对模型复杂性。正如第1.1节中提到的，调节器接受支持实例并学习生成任务表征，通过交互块传递给分割器臂。分割器利用这一点对查询图像进行分割。我们将分割器臂的卷积层（每个编码器、瓶颈和解码器）的核数固定为64。我们使用这个设置，因为这在我们之前的不同数据集的分割工作中被证明效果良好（Roy等人，2019年，2018年b）。接下来，我们改变调节器臂的内核数量为{8、16、32、64}。支持片的数量仍然固定为k = 12。我们在表5中报告了这些设置的分割结果。在具有16个卷积核的调节器上观察到了最佳性能。一个可能的解释是，太低的调节器复杂性（如8）会导致一个非常弱的任务表示，从而不能可靠地支持分割器臂。而更高的调节器臂复杂度，32和64个内核（与分割器复杂度相同），可能会导致不适当的训练，因为在有限的训练数据和互动下，复杂性增加。在下面的实验中，我们将调节器卷积核的数量固定为16。</p>
<h3 id="54-effect-of-the-number-of-support-slice-budget"><a class="markdownIt-Anchor" href="#54-effect-of-the-number-of-support-slice-budget"></a> 5.4. Effect of the number of support slice budget</h3>
<p>在本节中，我们研究了改变从支持体积中选择的支持片数k的预算时的性能，以便对所有查询体积进行分割。这里，k可以被认为是体积分割的 “镜头数”。在以前的所有实验中，我们固定k=12。在这里，我们在{1，3，5，7，10，12，15，17，20}之间变化k，并在表7中报告了验证集上的每折和总体平均分割性能。每一折的性能分析显示，要达到适当的准确度所需的最小切片数随要分割的目标器官的大小而变化。</p>
<p>对于褶皱-1（肝脏），一次性体积分割（k=1）产生的Dice分数为0.678，在k=20时增加到0.701。我们观察到，只有12片时，性能就达到了饱和（Dice分数为0.70）。分割性能只随着k值的增加而稍有提高。对于Fold-2（脾脏），分割性能最初随着k值的增加而增加，然后性能在k≥10时达到饱和，Dice分数为0.60。脾脏比肝脏更难分割，因此需要更多的支持。对于折叠3（右/左肾），我们观察到与折叠2类似的行为。分割性能最初随着k值的增加而增加，然后在k≥10时，Dice得分达到0.46（这是左肾和右肾两类的平均值），达到饱和。同样对于Fold-4（右/左腰肌），我们看到K=10时Dice得分在0.50时达到饱和。在k=10的情况下，所有褶皱的总体平均Dice得分也饱和于0.56。</p>
<p>基于这些结果，我们得出结论，k = 10是我们的应用所需的最大支持片数。因此，我们在接下来的实验中使用这种配置。我们还在表6中报告了每个器官的测试体积中的平均切片数，以表明为体积评估而选择的切片的稀疏程度。</p>
<img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/img/202210311545821.png" alt="image-20221026130939811" style="zoom:150%;" />
<blockquote>
<p>表6 内脏数据集中不同目标器官的切片范围（冠状轴）。</p>
</blockquote>
<h3 id="55-comparison-with-existing-approaches"><a class="markdownIt-Anchor" href="#55-comparison-with-existing-approaches"></a> 5.5. Comparison with existing approaches</h3>
<p><strong>在本节中，我们将我们提出的框架与其他现有的小样本的分割方法进行比较。必须指出的是，所有现有的方法都是为计算机视觉应用而提出的，因此不能直接与我们的方法进行比较，如第1.2节所解释的。因此，我们修改了每个现有的方法以适应我们的应用。结果总结在表8中。此外，我们还对5个测试查询卷的结果进行了评估。</strong></p>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/typora/image-20221026125535834.png" alt="image-20221026125535834" /></p>
<blockquote>
<p>表8 我们提出的几张照片分割器与现有方法的比较。对于每种方法，报告了测试集的每折和平均Dice得分以及平均表面距离（以毫米为单位）。分类器回归（Shaban等人，2017）训练导致模式崩溃，因此没有报告Dice得分。特征融合缩写为F.F.，分类器回归缩写为C.R.。所有褶皱的最佳平均Dice得分/平均表面距离用粗体表示。</p>
</blockquote>
<p>首先，我们尝试与Shaban等人（2017）进行比较。他们的主要贡献是，调节器臂对卷积权重进行回归，这些权重被分割器的分类器块用来推断查询图像的分割。由于我们的应用没有任何预训练的模型，与Shaban等人（2017）不同，我们在分割器和调节器臂上使用与我们提出的方法相同的架构。除了最后的分类器权重回归外，没有使用任何中间的交互作用。我们尝试在我们的数据集上用广泛的超参数训练网络，但所有的设置都导致了训练时的不稳定。必须指出的是，一个可能的不稳定来源可能是我们没有使用预训练的模型，与原始方法不同。因此，我们无法将我们提出的方法与这种方法进行比较。</p>
<p>接下来，我们将我们的方法与Rakelly等人（2018）进行比较。同样，由于缺乏预训练的模型，这个方法与我们的方法没有直接的可比性。他们的方法的主要贡献之一是分割器和调节器之间的互动策略，使用一种叫做特征融合的技术。他们将调理器的特征图拼接在一起，并与分割器的特征图相连接。他们的实现只在一个单一的位置（瓶颈）引入了互动。我们尝试了同样的配置，但网络没有收敛。因此，我们修改了模型，在调节器和分割器臂之间的多个位置引入了基于连接的特征融合（而不是我们的sSE模块）。由于我们有一个对称的结构，所以不需要铺设。与我们提出的方法类似，我们在每个编码器、瓶颈和解码器块都引入了这种基于特征融合的互动。在这个实验中，我们将基于空间SE的交互方法与基于串联的特征融合方法进行比较。结果在表8中报告。我们观察到，我们的方法的Dice点高出21%，平均表面距离降低10毫米。</p>
<p>接下来，我们试图通过将上述适应的特征融合方法（Rakelly等人，2018）与分类器权重回归方法（Shaban等人，2017）相结合，创建混合基线。我们观察到，通过这样做，性能增加了3%的Dice点。不过，与我们提出的方法相比，它的Dice得分还是低得多（18%的Dice分）。</p>
<p>作为最后的基线，我们将我们提出的框架与类似于Caelles等人（2017）的微调策略进行比较。为了进行公平的比较，我们只使用银色语料库扫描（DTrain ）和支持卷（10000132_1_CTce_ThAb）的10个注释切片进行训练。作为一个架构上的选择，我们使用我们的分割器臂，没有SE块。我们使用DTrain对模型进行预训练，以分割LTrain的类别。在预训练之后，我们使用这个模型的学习权重来初始化所有的层，除了分类器块。然后，我们使用支持体的10个注释片对其进行微调，支持体有一个来自LTest的新类别。我们在表8中展示了分割性能。微调是以10-3的低学习率在10个历时中仔细进行的。在训练过程中，使用平移（左、右、上、下）和旋转（-15、+15度）对10个选定的切片进行了增强。除了褶皱1（肝脏，Dice得分0.30），其他所有褶皱的Dice得分都&lt;0.01。总的来说，这个实验证实了这样一个事实：在这种低数据制度下的微调是无效的，而我们的小样本的分割技术则要有效得多。</p>
<h3 id="56-comparison-with-upper-bound-model"><a class="markdownIt-Anchor" href="#56-comparison-with-upper-bound-model"></a> 5.6. Comparison with upper bound model</h3>
<p>在这一节中，我们研究了我们的小样本分割框架与完全监督的上限模型的性能。为了训练这个上界模型，我们使用了银色语料库的所有扫描结果（包括所有目标器官的注释），并在金色语料库上部署了训练好的模型。我们使用标准的U-Net（Ronneberger等人，2015）架构进行分割。分割结果显示在表9中。</p>
<p>我们观察到，与我们的小样本的分割框架相比，这个上界模型的Dice点高出20-40%，平均表面距离低1-7毫米。必须指出的是，这种性能上的差异是可以预期的，因为来自65个完全注释的扫描的所有切片都被用于训练。相比之下，在我们的方法中只使用了来自单一容积的10个注释切片。如果可以获得许多有充分注释的切片，我们总是建议使用完全监督的训练。每当需要从几个切片中学习一个新的类别时，我们的小样本分割框架就很出色。值得一提的是，这种性能下降也可以在计算机视觉的PASCAL VOC基准中观察到，使用DeepLabv3架构的完全监督上界的IoU为0.89，而小样本分割的IoU为0.4（Shaban等人，2017）。</p>
<h3 id="57-qualitative-results"><a class="markdownIt-Anchor" href="#57-qualitative-results"></a> 5.7. Qualitative results</h3>
<p>我们在图6(ad)中分别展示了一组对褶皱1-4的定性分割结果。在图6（a）中，我们展示了肝脏的分割结果。从左到右，我们展示了带有手工注释的支持集、带有手工注释的查询输入以及对查询输入的预测。我们观察到一个可接受的分割，尽管肝脏的形状和大小在支持片和查询片中存在差异。请注意，网络拥有的关于器官的唯一信息是来自单一的支持切片。在图6（b）中，我们展示了脾脏的类似结果。这是一个具有挑战性的案例，脾脏的形状在支持片和查询片中非常不同。此外，支持片和查询片之间的图像对比度也有差异。脾脏有轻微的分割不足，但考虑到支持度较弱，分割效果出乎意料地好。在图6（c）中，我们展示了左肾的结果。在这里，我们再次观察到肾脏在支持片和查询片中的大小存在巨大差异。肾脏在支持片中显示为一个小点，使其成为一个非常困难的案例。在图6(d)中，我们显示了右腰肌的分割情况。在这种情况下，支持片和查询片在视觉上是非常相似的。我们的框架的预测显示在腰肌边界有一点过度包容，但有一个体面的定位和形状。总的来说，定性结果直观地显示了我们的框架在简单和非常具有挑战性的条件下的有效性。</p>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/img/image-20240102213502428.png" alt="image-20240102213502428" /></p>
<blockquote>
<p>图6.我们的几张照片分割器的定性结果。子图（a-d）分别指的是肝脏、脾脏、左肾和右腰肌的各个褶皱的例子。在每个子图中，第一列表示带有器官手动轮廓的支持图像，第二列表示带有手动注释的查询图像，第三列表示查询图像的预测分割结果。所有的注释都显示为绿色。(关于本图例中对颜色的解释，请读者参考本文的网络版）。</p>
</blockquote>
<h3 id="58-dependence-on-support-set"><a class="markdownIt-Anchor" href="#58-dependence-on-support-set"></a> 5.8. Dependence on support set</h3>
<p>在我们以前的所有实验中，有一个卷（10000132_1_CTce_ThAb）被用作支持卷，其余19个卷作为查询卷用于评估。在本节中，我们研究了分割性能对支持卷的选择的敏感性。在这个实验中，我们从验证集中随机选择5个卷作为支持集。我们每次选择一个，并对剩余的15个卷进行评估（验证集和测试集的其余部分结合起来），并在表10中报告了每折和全局的Dice得分。</p>
<p>我们观察到，改变支持体积确实对分割性能有影响。在Fold-1（肝）中，在所有5个选定的支持体积中，性能变化了6%的Dice点。在折叠2（脾脏）、折叠3（R/L肾脏）、折叠4（R/L腰肌）中，这一变化分别为5%、8%和5%的Dice点。总的平均Dice分值相差4%点。我们的结论是，选择一个适当的支持体是很重要的，它可以代表整个查询集。然而，一个好的选择策略仍然是未来的工作。然而，我们的框架显示了对选择的一些稳健性。</p>
<h3 id="59-discussion-on-spatial-se-as-interaction-blocks"><a class="markdownIt-Anchor" href="#59-discussion-on-spatial-se-as-interaction-blocks"></a> 5.9. Discussion on spatial SE as interaction blocks</h3>
<p>关于使用空间SE块进行交互的一个关注点可能是支持和查询图像之间的目标类的空间排列。虽然在我们的应用中，支持和查询片之间存在一些目标器官的部分重叠，但我们相信基于SSE的交互也能够处理没有这种重叠的情况。我们承认，空间位置的相似性对我们的应用有帮助。然而，这并不是驱动分割的唯一因素。在表3中，我们提出了一个表示为BL-3的配置的实验。在这个设计中，我们只在Segmenter和Conditioner之间的瓶颈处保持sSE块的交互。请注意，瓶颈特征图的空间分辨率非常低（在我们的案例中，尺寸为16×32）。这种配置可以被认为是一种空间不变的融合。在这种情况下，我们也取得了一个体面的分割分数。通过在所有的编码器和解码器区块中加入SSE，这一点得到了进一步提升。sSE的一个重要方面是它在激励前的末端有一个sigmoidal门控函数。这意味着在任何位置，它都有能力使所有的神经元饱和（即所有的输出特征图激活变成1），从而保持分割器特征图不变。考虑这样一种情况，在编码器/解码器的特征图是不变的，只是对瓶颈进行校准。这将类似于BL-3的实验，显示出体面的性能。因此，我们认为正弦波门控将控制sSE块，只在必要时重新校准特征图。</p>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/typora/image-20221026124906839.png" alt="image-20221026124906839" /></p>
<h2 id="6-conclusion"><a class="markdownIt-Anchor" href="#6-conclusion"></a> 6. Conclusion</h2>
<p>在这篇文章中，我们介绍了一个针对体积医学扫描的小样本的分割框架。主要的挑战是缺乏预训练的模型来开始，以及扫描的体积性质。我们建议使用 &quot;通道挤压和空间激励 &quot;块来帮助我们的框架从头开始进行适当的训练。此外，我们提出了一种体积分割策略，通过对二维切片的适当配对，将查询体积扫描与支持体积扫描进行战略性分割。我们在内脏数据集的对比度增强的CT扫描上评估了我们提出的框架和几个基线。我们将我们基于sSE的模型与基于特征融合的现有方法Rakelly等人（2018）、分类器回归Shaban等人（2017）及其组合进行了比较。我们的框架在很大程度上胜过了之前的所有方法。</p>
<p>除了与现有的方法进行比较，我们还提供了关于SE块、模型复杂性和跳过连接的架构选择的详细实验。我们还研究了通过改变支持体积和支持体积的预算片数对我们的小样本分割性能的影响。</p>
<p>我们提出的小样本分割法有以下限制。首先，对于一个新的查询卷，需要指出目标器官的开始和结束切片来进行分割。这可能需要手动操作。其次，由于监督极其有限以及这项任务的难度，使用小样本的分割法无法实现非常精确的分割。如果应用需要高度精确的分割，我们建议采用传统的监督学习方式，通过获取更多的注释进行训练。</p>
<p>尽管有这些限制，我们提出的方法的阐述是非常通用的，可以很容易地扩展到其他小样本的分割应用。我们的方法是独立于预训练模型的，这使得它对非计算机视觉应用非常有用。</p>
<h2 id="list-of-ids-in-the-visceral-dataset"><a class="markdownIt-Anchor" href="#list-of-ids-in-the-visceral-dataset"></a> List of IDs in the Visceral Dataset</h2>
<p><img src="/img/loading.gif" data-original="http://qjl988-tuchuang.oss-cn-beijing.aliyuncs.com/img/202210251911083.png" alt="" /></p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/">论文翻译</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/TopFormer/" title="TopFormer Token Pyramid Transformer for Mobile Semantic Segmentation"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">TopFormer Token Pyramid Transformer for Mobile Semantic Segmentation</div></div><div class="info-2"><div class="info-item-1"> TopFormer: Token Pyramid Transformer for Mobile Semantic Segmentation  文章链接   Abstract 尽管vision transformers（ViTs）在计算机视觉领域取得了巨大的成功，但沉重的计算成本阻碍了它们在密集预测任务中的应用，如移动设备上的语义分割。在本文中，我们提出了一个名为Token Pyramid Vision Transformer（TopFormer）的移动友好架构。所提出的TopFormer将不同尺度的Token作为输入，以产生尺度感知的语义特征，然后将其注入到相应的Token中以增强表示。实验结果表明，我们的方法在几个语义分割数据集上明显优于基于CNN和ViT的网络，并且在准确性和延迟之间实现了良好的权衡。在ADE20K数据集上，TopFormer在基于ARM的移动设备上以较低的延迟实现了比MobileNetV3高5%的mIoU精度。此外，TopFormer的微小版本在基于ARM的移动设备上实现了具有竞争力的实时推理结果。  1. Introduction vision...</div></div></div></a><a class="pagination-related" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/U-Net/" title="U-Net Convolutional Networks for Biomedical Image Segmentation"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">U-Net Convolutional Networks for Biomedical Image Segmentation</div></div><div class="info-2"><div class="info-item-1"> U-Net: Convolutional Networks for Biomedical Image Segmentation  Abstract There is large consent that successful training of deep networks requires many thousand annotated training samples. In this paper, we present a network and training strategy that relies on the strong use of data augmentation to use the available annotated samples more efficiently. The architecture consists of a contracting path to capture context and a symmetric expanding path that enables precise localization. We...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/ASGNet/" title="ASGNet"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-10</div><div class="info-item-2">ASGNet</div></div><div class="info-2"><div class="info-item-1"> ASGNet  Abstract 原型学习被广泛应用于小样本分割。通常情况下，通过平均全局对象信息，从支持特征中获得单一原型。然而，使用一个原型来表示所有信息可能会导致模糊不清。在本文中，我们提出了两个用于多原型提取和分配的新型模块，分别名为超像素引导聚类（SGC）和引导原型分配（GPA）。具体来说，SGC 是一种无参数、无训练的方法，它通过聚合相似的特征向量来提取更具代表性的原型，而 GPA 则能够选择匹配的原型，从而提供更准确的指导。通过将 SGC 和 GPA 整合在一起，我们提出了自适应超像素引导网络 (ASGNet)，它是一种轻量级模型，能适应物体的比例和形状变化。此外，我们的网络还可以很容易地推广到 k 个镜头的分割，并在不增加计算成本的情况下实现大幅改进。特别是，我们在 COCO 上进行的评估表明，ASGNet 在 5 镜头分割方面比最先进的方法高出 5%。  1....</div></div></div></a><a class="pagination-related" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/AFFformer/" title="Head-Free Lightweight Semantic Segmentation with Linear Transformer"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-10</div><div class="info-item-2">Head-Free Lightweight Semantic Segmentation with Linear Transformer</div></div><div class="info-2"><div class="info-item-1"> Head-Free Lightweight Semantic Segmentation with Linear Transformer  Abstract 现有的语义分割工作主要集中在设计有效的解码器上；然而，整体结构所带来的计算负荷长期以来一直被忽视，这阻碍了它们在资源有限的硬件上的应用。在本文中，我们提出了一个专门用于语义分割的无头轻量级架构，名为自适应频率变换器（AFFormer）。AFFormer采用了一个并行的架构来利用原型表征作为特定的可学习的局部描述，它取代了解码器并保留了高分辨率特征上丰富的图像语义。虽然去掉解码器后压缩了大部分的计算，但并行结构的准确性仍然受到低计算资源的限制。因此，我们采用异质运算器（CNN和Vision...</div></div></div></a><a class="pagination-related" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/Automatic-Classification-and-Segmentation-of-Teeth-on-3D-Dental-Model-Using-Hierarchical-Deep-Learning-Networks/" title="Automatic-Classification-and-Segmentation-of-Teeth-on-3D-Dental-Model-Using-Hierarchica-Deep-Learning-Network"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-10</div><div class="info-item-2">Automatic-Classification-and-Segmentation-of-Teeth-on-3D-Dental-Model-Using-Hierarchica-Deep-Learning-Network</div></div><div class="info-2"><div class="info-item-1"> Automatic Classification and Segmentation of Teeth on 3D Dental Model Using Hierarchical Deep Learning Network Automatic Classification and Segmentation of Teeth on 3D Dental Model Using Hierarchical Deep Learning Network ...</div></div></div></a><a class="pagination-related" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/Axial-attention/" title="AXIAL-ATTENTION"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-10</div><div class="info-item-2">AXIAL-ATTENTION</div></div><div class="info-2"><div class="info-item-1"> AXIAL ATTENTION  ABSTRACT We propose Axial Transformers, a self-attention-based autoregressive model for images and other data organized as high dimensional tensors. Existing autoregressive models either suffer from excessively large computational resource requirements for high dimensional data, or make compromises in terms of distribution expressiveness or ease of implementation in order to decrease resource requirements. Our architecture, by contrast, maintains both full expressiveness...</div></div></div></a><a class="pagination-related" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/CA/" title="CA"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-10</div><div class="info-item-2">CA</div></div><div class="info-2"><div class="info-item-1"> Coordinate Attention for Efficient Mobile Network Design  Abstract 最近关于移动网络设计的研究已经证明了通道注意（如SE注意力机制）对于提高模型性能的显著效果，但他们通常忽略了位置信息，而位置信息对于生成空间选择性注意图是很重要的。在本文中，我们提出了一种新的移动网络注意机制，将位置信息嵌入到通道注意中，我们称之为...</div></div></div></a><a class="pagination-related" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/Biformer/" title="BiFormer-Vision-Transformer-with-Bi-Level-Routing-Attention"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-10</div><div class="info-item-2">BiFormer-Vision-Transformer-with-Bi-Level-Routing-Attention</div></div><div class="info-2"><div class="info-item-1">BiFormer: Vision Transformer with Bi-Level Routing Attention BiFormer: Vision Transformer with Bi-Level Routing Attention  2. Related Works Vision transformers. 变形器是一个神经网络家族，它采用信道明智的MLP块来进行每个位置的嵌入（信道混合），采用注意力[42]块来进行跨位置关系建模（空间混合）。变形器最初是为自然语言处理提出的[13, 42]，然后由DETR[1]和ViT[15]等开创性工作引入到计算机视觉。与CNN相比，最大的区别是，transformer使用注意力作为卷积的替代，以实现全局上下文建模。然而，由于香草注意计算所有空间位置的成对特征亲和力，它产生了高计算负担和沉重的内存足迹，特别是对于高分辨率输入。因此，一个重要的研究方向是寻求更有效的注意力机制。 Efficient attention mechanisms....</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">qjl988</div><div class="author-info-description">钱家黎的博客</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/qjl988"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/qjl988" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/mjh1667002013" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=728831102&amp;website=www.oicqzone.com" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:1976083684@qq.com" target="_blank" title="Email"><i class="fas fa-email"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#squeeze-excite-guided-few-shot-segmentation-of-volumetric-images"><span class="toc-text"> ‘Squeeze &amp; excite’ guided few-shot segmentation of volumetric images</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%91%98%E8%A6%81"><span class="toc-text"> 摘要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-introduction"><span class="toc-text"> 1. introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-background-on-few-shot-segmentation"><span class="toc-text"> 1.1. Background on few-shot segmentation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-challenges-for-medical-few-shot-segmentation"><span class="toc-text"> 1.2. Challenges for medical few-shot segmentation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-contributions"><span class="toc-text"> 1.3. Contributions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-overview"><span class="toc-text"> 1.4. Overview</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-prior-work"><span class="toc-text"> 2. Prior work</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-few-shot-learning"><span class="toc-text"> 2.1. Few-shot learning</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-few-shot-segmentation-using-deep-learning"><span class="toc-text"> 2.2. Few-shot segmentation using deep learning</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-method"><span class="toc-text"> 3. Method</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31-problem-setup-for-few-shot-segmentation"><span class="toc-text"> 3.1. Problem setup for few-shot segmentation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32-architectural-design"><span class="toc-text"> 3.2. Architectural design</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#321-%E8%B0%83%E8%8A%82%E5%99%A8%E8%87%82"><span class="toc-text"> 3.2.1. 调节器臂</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#322-%E4%BD%BF%E7%94%A8-%E6%8C%A4%E5%8E%8B%E5%92%8C%E6%BF%80%E5%8A%B1-%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BA%92%E5%8A%A8%E5%9D%97"><span class="toc-text"> 3.2.2. 使用 &quot;挤压和激励 &quot;模块的互动块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#323-segmenter-arm"><span class="toc-text"> 3.2.3. Segmenter arm</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33-training-strategy"><span class="toc-text"> 3.3. Training strategy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34-volumetric-segmentation-strategy"><span class="toc-text"> 3.4. Volumetric segmentation strategy</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-dataset-and-experimental-setup"><span class="toc-text"> 4. Dataset and experimental setup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41-dataset-description"><span class="toc-text"> 4.1. Dataset description</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42-problem-formulation"><span class="toc-text"> 4.2. Problem formulation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43-hyperparameters-for-training-the-network"><span class="toc-text"> 4.3. Hyperparameters for training the network</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-experimental-results-and-discussion"><span class="toc-text"> 5. Experimental results and discussion</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#51-squeeze-excitation-based-interaction"><span class="toc-text"> 5.1. ‘Squeeze &amp; excitation’ based interaction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#52-effect-of-skip-connections-in-the-architecture"><span class="toc-text"> 5.2. Effect of skip connections in the architecture</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53-model-complexity-of-the-conditioner-arm"><span class="toc-text"> 5.3. Model complexity of the conditioner arm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#54-effect-of-the-number-of-support-slice-budget"><span class="toc-text"> 5.4. Effect of the number of support slice budget</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#55-comparison-with-existing-approaches"><span class="toc-text"> 5.5. Comparison with existing approaches</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#56-comparison-with-upper-bound-model"><span class="toc-text"> 5.6. Comparison with upper bound model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#57-qualitative-results"><span class="toc-text"> 5.7. Qualitative results</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#58-dependence-on-support-set"><span class="toc-text"> 5.8. Dependence on support set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#59-discussion-on-spatial-se-as-interaction-blocks"><span class="toc-text"> 5.9. Discussion on spatial SE as interaction blocks</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-conclusion"><span class="toc-text"> 6. Conclusion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#list-of-ids-in-the-visceral-dataset"><span class="toc-text"> List of IDs in the Visceral Dataset</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/ASGNet/" title="ASGNet">ASGNet</a><time datetime="2024-12-10T15:28:34.000Z" title="发表于 2024-12-10 23:28:34">2024-12-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/AFFformer/" title="Head-Free Lightweight Semantic Segmentation with Linear Transformer">Head-Free Lightweight Semantic Segmentation with Linear Transformer</a><time datetime="2024-12-10T15:28:34.000Z" title="发表于 2024-12-10 23:28:34">2024-12-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/Automatic-Classification-and-Segmentation-of-Teeth-on-3D-Dental-Model-Using-Hierarchical-Deep-Learning-Networks/" title="Automatic-Classification-and-Segmentation-of-Teeth-on-3D-Dental-Model-Using-Hierarchica-Deep-Learning-Network">Automatic-Classification-and-Segmentation-of-Teeth-on-3D-Dental-Model-Using-Hierarchica-Deep-Learning-Network</a><time datetime="2024-12-10T15:28:34.000Z" title="发表于 2024-12-10 23:28:34">2024-12-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/Axial-attention/" title="AXIAL-ATTENTION">AXIAL-ATTENTION</a><time datetime="2024-12-10T15:28:34.000Z" title="发表于 2024-12-10 23:28:34">2024-12-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/10/%E8%AE%BA%E6%96%87/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/CA/" title="CA">CA</a><time datetime="2024-12-10T15:28:34.000Z" title="发表于 2024-12-10 23:28:34">2024-12-10</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By qjl988</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css')
    if (true) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>